<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>promise基本使用</title>
  </head>
  <body>
    <script>
      // 当出现回调地狱的时候，使用Promise，这时一种链式编程
      new Promise((resolve, reject) => {
        setTimeout(()=>{
          resolve('hello promise 111')
        },2000)
      }).then(msg => {
        console.log(msg);
        console.log(msg);
        console.log(msg);
        return new Promise((resolve, reject)=>{
          setTimeout(()=>{
            resolve('hello promise 222')
          },2000)
        }).then(msg => {
          console.log(msg);
          console.log(msg);
          console.log(msg);
          return new Promise((resolve, reject)=>{
            setTimeout(()=>{
              resolve('hello promise 333')
            },2000)
          }).then(msg => {
            console.log(msg);
            console.log(msg);
            console.log(msg);
          })
        })
      })


      // 什么时候会用到Promise？
      // 一般有异步操作时，用Promise对异步操作进行封装
      // new -> 构造函数(1.保存了一些状态信息， 2.执行传入的函数)
      // 在执行传入的回调函数时，会传入两个参数，resolve和reject，这两个也是函数

      // Promise(函数)
      // Promise((resolve, reject) => {})
      // resolve和reject两者都是函数

      // new Promise((resolve, reject) => {
      //   setTimeout(() => {
      //     // 成功的时候调用resolve
      //     // resolve('hello promise')

      //     // 失败的时候调用reject
      //     reject("error message");
      //   });
      // })
      //   .then((data) => {
      //     console.log(data);
      //     console.log(data);
      //     console.log(data);
      //   })
      //   .catch((err) => {
      //     console.log(err);
      //   });
    </script>
  </body>
</html>
